<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Дипломная работа</title>

    <link rel="stylesheet" href="https://openlayers.org/en/v4.6.5/css/ol.css" type="text/css">
    <link rel="stylesheet" href="/static/CSS/main.css" type="text/css">
    <script src="https://openlayers.org/en/v4.6.5/build/ol.js"></script>
    <script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=requestAnimationFrame,Element.prototype.classList,URL,Object.assign"></script>
    <link rel="stylesheet" href="https://cdn.rawgit.com/Viglino/ol-ext/master/dist/ol-ext.min.css"/>
    <script type="text/javascript" src="https://cdn.rawgit.com/Viglino/ol-ext/master/dist/ol-ext.min.js"></script>
    <script src="https://cdn.socket.io/4.6.0/socket.io.min.js"
            integrity="sha384-c79GN5VsunZvi+Q/WObgk2in0CbZsHnjEqvFxC5DxHn9lTfNce2WW6h2pH6u/kF+"
            crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.1.2/socket.io.js"></script>
</head>

<body>
<div class="container">
    <div class="input_block">
        <div class="clusterization-title">Кластеризация</div>
        <div class="clusterization-inputs">

            <label title="вес расстояния для метрики DBSCAN" class="clusterization-label">weight_distance</label>
            <input type="number" step="0.1" required value="{{ clustering_params['weight_distance'] }}"
                   id="weight_distance" class="clusterization-input"/>

            <label title="вес скорости для метрики DBSCAN" class="clusterization-label">weight_speed</label>
            <input type="number" step="0.1" required value="{{ clustering_params['weight_speed'] }}" id="weight_speed"
                   class="clusterization-input"/>

            <label title=" вес курса для метрики DBSCAN" class="clusterization-label">weight_course</label>
            <input type="number" step="0.1" required value="{{ clustering_params['weight_course'] }}" id="weight_course"
                   class="clusterization-input"/>

            <label title="максимальное расстояние (по метрике) между объектами для признания их соседними в алгоритме DBSCAN"
                   class="clusterization-label">eps</label>
            <input type="number" step="0.1" required value="{{ clustering_params['eps'] }}" id="eps"
                   class="clusterization-input"/>

            <label title="минимальное число соседей, необходимое для признания объекта ядровым в алгоритме DBSCAN"
                   class="clusterization-label">min_samples</label>
            <input type="number" required value="{{ clustering_params['min_samples'] }}" id="min_samples"
                   class="clusterization-input"/>
        </div>
        <div class="buttons">
            <button type="submit" id="do_cluster" onclick="Do_clustering()" class="red_text" style="cursor: pointer">
                Кластеризовать данные и выделить полигоны
            </button>
        </div>

        <div class="route-title">Построение маршрута</div>

        <div class="route-inputs">
            <label title="расстояние между генерируемыми точками в пересечениях полигонов" class="route-label">distance_delta</label>
            <input type="number" step="0.1" required value="{{ graph_params['distance_delta'] }}" id="distance_delta"
                   class="route-input"/>

            <label title="угол обзора для узла, в пределах которого возможно добавить ребра в граф" class="route-label">angle_of_vision</label>
            <input type="number" step="0.1" required value="{{ graph_params['angle_of_vision'] }}" id="angle_of_vision"
                   class="route-input"/>

            <label title="вес времени прохождения для ребер графа" class="route-label">weight_time</label>
            <input type="number" step="0.1" required value="{{ graph_params['weight_time_graph'] }}"
                   id="weight_time_graph" class="route-input"/>

            <label title="вес соответствия направления среднекластерному для ребер графа " class="route-label">weight_course</label>
            <input type="number" step="0.1" required value="{{ graph_params['weight_course_graph'] }}"
                   id="weight_course_graph" class="route-input"/>

            <label title="начальная точка маршрута" class="route-label">start_coords</label>
            <input style="cursor: pointer;" type="text" id="start_coords" readonly required placeholder="Клик на карте"
                   class="route-input"/>

            <label title="конечная точка маршрута" class="route-label">end_coords</label>
            <input style="cursor: pointer;" type="text" id="end_coords" readonly required placeholder="Клик на карте"
                   class="route-input"/>
        </div>

        <div class="buttons">
            <button type="submit" id="do_graph" onclick="Create_graph()">
                Визуализировать маршрут
            </button>
        </div>
    </div>
    <div class="map_block">
        <div id="map" class="map"></div>
        <div id="legend">
            <div style="text-align: center ; position: absolute;top: 50%;left: 13%;">Сначала необходимо кластеризовать
                данные!
            </div>
        </div>
    </div>
</div>
</body>
<script src="/static/JS/main.js"></script>

</html>